<?xml version="1.0"?>
<component name="com.leroymerlin.corp.fr.nuxeo.labs.site.NotificationContrib">

  <extension target="org.nuxeo.ecm.platform.ec.notification.service.NotificationService"
    point="notifications">

    <notification name="News published" channel="email" enabled="true" availableIn="SitesRoot"
      autoSubscribed="false" template="newsPublished" subjectTemplate="subjectNewsPublished"
      label="label.noLabel">
      <event name="newsPublishedUnderPageNews"/>
    </notification>

  </extension>

  <extension target="org.nuxeo.ecm.platform.ec.notification.service.NotificationService"
    point="templates">

    <template name="newsPublished_fr" src="templates/newsPublished_fr.ftl" />
    <template name="newsPublished_en" src="templates/newsPublished_en.ftl" />
    <template name="subjectNewsPublished_fr" src="templates/subjectNewsPublished_fr.ftl" />
    <template name="subjectNewsPublished_en" src="templates/subjectNewsPublished_en.ftl" />
    
    <!-- extention of existing Nuxeo template -->
    <template name="subscriptionsUpdated_fr" src="templates/subscriptionsUpdated_fr.ftl" />

  </extension>

</component>

