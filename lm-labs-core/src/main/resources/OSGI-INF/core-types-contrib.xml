<?xml version="1.0" encoding="UTF-8"?>

<component name="com.leroymerlin.corp.fr.nuxeo.labs.site.core.types"
	version="1.0">
	<require>org.nuxeo.ecm.core.schema.TypeService</require>
	<require>org.nuxeo.ecm.core.CoreExtensions</require>
	<require>org.nuxeo.ecm.platform.picture.coreTypes</require>

	<extension target="org.nuxeo.ecm.core.schema.TypeService"
		point="schema">
		<schema name="page" prefix="pg" src="schemas/page.xsd" />
		<schema name="page_news" prefix="pgn" src="schemas/page_news.xsd" />
		<schema name="page_liste" prefix="pgl" src="schemas/page_liste.xsd" />
		<schema name="page_blocs" prefix="pgb" src="schemas/page_blocs.xsd" />
		<!-- <schema name="theme" src="schemas/theme.xsd" /> -->
	</extension>

	<extension target="org.nuxeo.ecm.core.schema.TypeService"
		point="doctype">
		<documentation>The core universe types</documentation>

		<doctype name="SitesRoot" extends="Folder">
			<facet name="SuperSpace" />
			<subtypes>
				<type>Site</type>
			</subtypes>
		</doctype>

		<doctype name="Site" extends="Workspace">
			<subtypes>
				<type>Tree</type>
				<type>Assets</type>
			</subtypes>
		</doctype>

		<doctype name="Tree" extends="Folder">
			<subtypes>
				<type>Page</type>
				<type>PageBlocs</type>
				<type>PageNews</type>
				<type>PageClasseur</type>
				<type>PageListe</type>
			</subtypes>
		</doctype>

		<doctype name="Page" extends="Folder">
			<schema name="page" />
			<subtypes>
				<type>Page</type>
				<type>PageBlocs</type>
				<type>PageNews</type>
				<type>PageClasseur</type>
				<type>PageListe</type>
			</subtypes>
		</doctype>

		<doctype name="PageBlocs" extends="Page">
			<schema name="file" />
			<schema name="page_blocs" />
		</doctype>

		<doctype name="PageNews" extends="Page">
			<schema name="file" />
			<schema name="page_news" />
		</doctype>

		<doctype name="PageClasseur" extends="Page">
		</doctype>

		<doctype name="PageListe" extends="Page">
			<schema name="file" />
			<schema name="page_liste" />
		</doctype>

		<doctype name="Assets" extends="Folder">
			<subtypes>
				<type>Folder</type>
				<type>Picture</type>
				<!-- <type>Audio</type> -->
				<!-- <type>Video</type> -->
				<type>File</type>
			</subtypes>
		</doctype>

	</extension>

	<extension target="org.nuxeo.ecm.core.search.service.SearchServiceImpl"
		point="indexableDocType">
		<indexableDocType indexAllSchemas="true" name="Site" />
		<indexableDocType indexAllSchemas="true" name="Page" />
		<indexableDocType indexAllSchemas="true" name="PageBlocs" />
		<indexableDocType indexAllSchemas="true" name="PageNews" />
		<indexableDocType indexAllSchemas="true" name="PageClasseur" />
		<indexableDocType indexAllSchemas="true" name="PageListe" />
	</extension>

</component>
 